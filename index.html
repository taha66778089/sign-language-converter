<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>محوّل لغة الإشارة</title>
<style>
body { font-family: Arial, sans-serif; background: url('https://upload.wikimedia.org/wikipedia/commons/6/65/Flag_of_Qatar.svg') no-repeat center center fixed; background-size: cover; margin:0;padding:0; direction:rtl; text-align:center; }
header { background-color: rgba(21,101,192,0.9); color:white; padding:20px 0; font-size:36px; font-weight:bold; position:relative;}
#datetime { position:absolute; top:10px; left:10px; font-size:18px; background: rgba(0,0,0,0.5); padding:5px 10px; border-radius:5px;}
.container { margin:50px auto; padding:30px; background-color: rgba(255,255,255,0.95); border-radius:20px; width:85%; max-width:700px; display:flex; align-items:center; justify-content:center;}
input[type="file"] { margin:20px 0; padding:10px;}
button { background-color:#1976d2; color:white; border:none; padding:15px 40px; border-radius:15px; font-size:20px; cursor:pointer;}
.output { margin-top:20px; padding:15px; background-color:#e3f2fd; border-radius:10px;}
.welcome-box { margin-top:20px; padding:15px; border-radius:10px; display:flex; align-items:center; justify-content:center; gap:15px; animation:fadeIn 1s ease-in-out; color:white;}
.welcome-box img { width:60px; height:60px; animation:bounce 1s infinite;}
@keyframes bounce {0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}
@keyframes fadeIn {from{opacity:0;} to{opacity:1;}}
</style>
</head>
<body>

<header>
<div id="datetime"></div>
محوّل فيديو لغة الإشارة إلى نص أو صوت
</header>

<div class="container">
<video id="videoPlayer" controls style="display:none; width:45%; margin-left:20px;"></video>

<div>
<h2>اختر فيديو بلغة الإشارة</h2>
<input type="file" accept="video/*" id="videoInput" onchange="previewVideo()">
<br>
<button onclick="convertVideo()">ابدأ التحويل</button>

<div class="welcome-box" id="welcomeBox" style="display:none;">
<img id="logoImg" src="https://i.postimg.cc/hPmktm4Q/1.jpg" alt="شعار">
<p id="welcomeText" style="font-weight:bold; font-size:16px;"></p>
</div>

<div class="output" id="output">
<h3>الناتج:</h3>
<p>سيظهر النص هنا بعد التحويل...</p>
</div>
</div>
</div>

<script>
function updateDateTime(){
const now=new Date();
document.getElementById('datetime').textContent=now.toLocaleString('ar-EG');
}
setInterval(updateDateTime,1000); updateDateTime();

function previewVideo(){
const videoInput=document.getElementById('videoInput');
const videoPlayer=document.getElementById('videoPlayer');
if(videoInput.files && videoInput.files[0]){
const file=videoInput.files[0];
const url=URL.createObjectURL(file);
videoPlayer.src=url; videoPlayer.style.display='block'; videoPlayer.play();
alert("تم تحميل الفيديو بنجاح");
document.getElementById('welcomeBox').style.display='none'; // اخفاء الصندوق القديم
}
}

function convertVideo(){
const outputDiv=document.getElementById('output');
const welcomeBox=document.getElementById('welcomeBox');
const welcomeText=document.getElementById('welcomeText');
const logoImg=document.getElementById('logoImg');
const file=document.getElementById('videoInput').files[0];
if(!file){ alert("من فضلك اختر فيديو أولاً"); return; }

let text="", welcomeMessage="", bgColor="", logoSrc="https://i.postimg.cc/hPmktm4Q/1.jpg";

if(file.name.includes("1")){
text="السلام عليكم أنا إسمي عبد السلام الوردات ، معلم تربية خاصة بمجمع التربية السمعية للبنين في قطر، أهلا ومرحبا بكم ، على استعداد تام لتقديم المساعدة لكم في أي وقت ، مع السلامة.";
welcomeMessage="مرحباً بكم في الفيديو الأول: رسالة عبد السلام";
bgColor="#1976d2"; logoSrc="https://i.postimg.cc/hPmktm4Q/1.jpg";
}
else if(file.name.includes("2")){
text="السلام عليكم من فضلك أريد حجز تذكرة طيران للذهاب للسعودية يوم الأربعاء القادم على الخطوط القطرية .. شكراً لك على تعاونك";
welcomeMessage="مرحباً بكم في الفيديو الثاني: حجز تذكرة طيران";
bgColor="#43a047"; logoSrc="https://i.postimg.cc/hPmktm4Q/2.jpg";
}
else if(file.name.includes("3")){
text="السلام عليكم ، من فضلك أنا اسمى حسام الدين وعندى موعد طبى اليوم مع طبيب الأسرة ، أريد رقم للدخول الى الطبيب ، شكرا لكي .";
welcomeMessage="مرحباً بكم في الفيديو الثالث: موعد طبي";
bgColor="#f4511e"; logoSrc="https://i.postimg.cc/hPmktm4Q/3.jpg";
}
else{
text="لم يتم التعرف على الفيديو، من فضلك استخدم فيديو رقم 1 أو 2 أو 3";
welcomeMessage="فيديو غير معروف"; bgColor="#9e9e9e"; logoSrc="https://i.postimg.cc/hPmktm4Q/1.jpg";
}

welcomeBox.style.display="flex";
welcomeBox.style.backgroundColor=bgColor;
welcomeText.textContent=welcomeMessage;
logoImg.src=logoSrc;

outputDiv.innerHTML=`<h3>الناتج:</h3><p style="font-size:18px;font-weight:bold;">${text}</p>`;

speakText(text);
}

function speakText(text){
const utterance=new SpeechSynthesisUtterance(text);
utterance.lang="ar-SA";
speechSynthesis.speak(utterance);
}
</script>
</body>
</html>
