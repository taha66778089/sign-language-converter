<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>محوّل لغة الإشارة</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: url('https://upload.wikimedia.org/wikipedia/commons/6/65/Flag_of_Qatar.svg') no-repeat center center fixed;
    background-size: cover;
    margin:0; padding:0;
    direction:rtl; text-align:center;
    overflow-x:hidden;
}

#marquee {
    font-size:36px;
    font-weight:bold;
    white-space: nowrap;
    overflow:hidden;
    display:block;
    color: transparent;
    background: linear-gradient(45deg, #ff0000,#00ff00,#0000ff,#ffff00,#ff00ff,#00ffff);
    -webkit-background-clip: text;
    background-size: 300%;
    animation: marqueeMove 15s linear infinite, rainbow 5s linear infinite;
    margin:10px 0;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}
@keyframes marqueeMove {0%{transform:translateX(100%);}100%{transform:translateX(-100%);}}
@keyframes rainbow {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}

header { position: relative; padding: 50px 0 20px 0; }
#datetime { position:absolute; top:10px; left:10px; font-size:18px; background: rgba(0,0,0,0.5); padding:5px 10px; border-radius:5px; color:white; }

/* النص الكبير على يسار الصفحة ككلمات متحركة */
#sideText {
    position:fixed;
    top:50%;
    left:10px;
    transform: translateY(-50%);
    font-size:50px;
    font-weight:bold;
    color: white;
    padding:10px;
    border-radius:10px;
    text-align:center;
    background: linear-gradient(45deg, #ff0000, #00ff00, #0000ff, #ffff00, #ff00ff, #00ffff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: rainbow 5s linear infinite alternate;
}

/* الحاوية الرئيسية */
.container { margin:20px auto; padding:30px; background-color: rgba(255,255,255,0.95); border-radius:20px; width:85%; max-width:700px; display:flex; align-items:center; justify-content:center; flex-wrap:wrap;}
input[type="file"] { margin:20px 0; padding:10px; }
button { background-color:#1976d2; color:white; border:none; padding:15px 40px; border-radius:15px; font-size:20px; cursor:pointer; transition:0.3s;}
button:hover { background-color:#1565c0; }

.output { margin-top:20px; padding:15px; background-color:#e3f2fd; border-radius:10px;}
.welcome-box { margin-top:20px; padding:15px; border-radius:10px; display:flex; align-items:center; justify-content:center; gap:15px; animation:fadeIn 1s ease-in-out; color:white;}
.welcome-box img { width:60px; height:60px; animation:bounce 1s infinite; }
.welcome-text { font-weight:bold; font-size:16px;}
.welcome-text-en { font-size:14px; color: #f0f0f0; }
@keyframes fadeIn { from{opacity:0;} to{opacity:1;} }
@keyframes bounce {0%,100%{transform:translateY(0);}50%{transform:translateY(-10%);} }

#footerMarquee {
    font-size:48px;
    font-weight:bold;
    white-space: nowrap;
    overflow:hidden;
    display:block;
    color: transparent;
    background: linear-gradient(45deg, #ff0000,#00ff00,#0000ff,#ffff00,#ff00ff,#00ffff);
    -webkit-background-clip: text;
    background-size: 300%;
    animation: marqueeMove 20s linear infinite, rainbow 5s linear infinite;
    position:fixed;
    bottom:0;
    width:100%;
    text-align:center;
    padding:10px 0;
}
#marquee, #footerMarquee { text-shadow: 2px 2px 4px rgba(0,0,0,0.6); }
</style>
</head>
<body>

<!-- النص الجانبي -->
<div id="sideText">إشارتي هي لغتي</div>

<header>
<div id="datetime"></div>
<div id="marquee">محوّل فيديو لغة الإشارة إلى نص أو صوت</div>
</header>

<div class="container">
<video id="videoPlayer" controls style="display:none; width:45%; margin-left:20px;"></video>

<div>
<h2>اختر فيديو بلغة الإشارة</h2>
<input type="file" accept="video/*" id="videoInput" onchange="previewVideo()">
<br>
<button onclick="convertVideo()">ابدأ التحويل</button>

<div class="welcome-box" id="welcomeBox" style="display:none;">
<img id="logoImg" src="https://i.postimg.cc/hPmktm4Q/1.jpg" alt="شعار">
<div>
<div class="welcome-text" id="welcomeText"></div>
<div class="welcome-text-en" id="welcomeTextEn"></div>
</div>
</div>

<div class="output" id="output">
<h3>الناتج:</h3>
<p>سيظهر النص هنا بعد التحويل...</p>
</div>

</div>
</div>

<div id="footerMarquee">مجمع التربية السمعية للبنات</div>

<script>
let currentText = {ar:'', en:''};

function updateDateTime(){
    const now = new Date();
    document.getElementById('datetime').textContent = now.toLocaleString('ar-EG');
}
setInterval(updateDateTime,1000); updateDateTime();

function previewVideo(){
    const videoInput = document.getElementById('videoInput');
    const videoPlayer = document.getElementById('videoPlayer');
    const welcomeBox = document.getElementById('welcomeBox');
    if(videoInput.files && videoInput.files[0]){
        const file = videoInput.files[0];
        const url = URL.createObjectURL(file);
        videoPlayer.src = url; videoPlayer.style.display='block';
        videoPlayer.play();
        welcomeBox.style.display='none';
        document.getElementById('output').innerHTML='<h3>الناتج:</h3><p>سيظهر النص هنا بعد التحويل...</p>';
        currentText = {ar:'', en:''};
    }
}

function convertVideo(){
    const outputDiv = document.getElementById('output');
    const welcomeBox = document.getElementById('welcomeBox');
    const welcomeText = document.getElementById('welcomeText');
    const welcomeTextEn = document.getElementById('welcomeTextEn');
    const logoImg = document.getElementById('logoImg');
    const file = document.getElementById('videoInput').files[0];
    if(!file){ alert("من فضلك اختر فيديو أولاً"); return; }

    let text="", textEn="", welcomeMessage="", welcomeMessageEn="", bgColor="", logoSrc="https://i.postimg.cc/hPmktm4Q/1.jpg";

    if(file.name.includes("1")){
        text="السلام عليكم أنا إسمي عبد السلام الوردات ، معلم تربية خاصة بمجمع التربية السمعية للبنين في قطر، أهلا ومرحبا بكم ، على استعداد تام لتقديم المساعدة لكم في أي وقت ، مع السلامة.";
        textEn="Hello, my name is Abdelsalam Alwardat, a special education teacher at the Deaf Education Complex for Boys in Qatar. Welcome, I am ready to assist you anytime. Goodbye.";
        welcomeMessage="مرحباً بكم في الفيديو الأول: رسالة عبد السلام";
        welcomeMessageEn="Welcome to Video 1: Abdelsalam's Message";
        bgColor="#1976d2"; logoSrc="https://i.postimg.cc/hPmktm4Q/1.jpg";
    }
    else if(file.name.includes("2")){
        text="السلام عليكم من فضلك أريد حجز تذكرة طيران للذهاب للسعودية يوم الأربعاء القادم على الخطوط القطرية .. شكراً لك على تعاونك";
        textEn="Hello, please I would like to book a flight ticket to Saudi Arabia next Wednesday on Qatar Airways. Thank you for your cooperation.";
        welcomeMessage="مرحباً بكم في الفيديو الثاني: حجز تذكرة طيران";
        welcomeMessageEn="Welcome to Video 2: Flight Booking Message";
        bgColor="#43a047"; logoSrc="https://i.postimg.cc/hPmktm4Q/2.jpg";
    }
    else if(file.name.includes("3")){
        text="السلام عليكم ، من فضلك أنا اسمي حسام الدين فتوح وعندى موعد طبى اليوم مع طبيب الأسرة ، أريد رقم للدخول الى الطبيب ، شكرا لكم .";
        textEn="Hello, my name is Hossam Eldin and I have a medical appointment today with the family doctor. I need the access number to see the doctor. Thank you.";
        welcomeMessage="مرحباً بكم في الفيديو الثالث: موعد طبي";
        welcomeMessageEn="Welcome to Video 3: Medical Appointment Message";
        bgColor="#f4511e"; logoSrc="https://i.postimg.cc/hPmktm4Q/3.jpg";
    }
    else{
        text="لم يتم التعرف على الفيديو، من فضلك استخدم فيديو رقم 1 أو 2 أو 3";
        textEn="Unrecognized video. Please use Video 1, 2, or 3.";
        welcomeMessage="فيديو غير معروف";
        welcomeMessageEn="Unknown Video";
        bgColor="#9e9e9e"; logoSrc="https://i.postimg.cc/hPmktm4Q/1.jpg";
    }

    currentText.ar = text;
    currentText.en = textEn;

    welcomeBox.style.display="flex";
    welcomeBox.style.backgroundColor = bgColor;
    welcomeText.textContent = welcomeMessage;
    welcomeTextEn.textContent = textEn;
    logoImg.src = logoSrc;

    outputDiv.innerHTML = `<h3>الناتج:</h3>
    <p style="font-size:18px;font-weight:bold;">${text}</p>
    <p style="font-size:16px;color:gray;">${textEn}</p>`;

    speakSequential(currentText.ar, currentText.en);
}

function speakSequential(arText, enText){
    if(!arText && !enText) return;
    const arUtter = new SpeechSynthesisUtterance(arText);
    arUtter.lang = "ar-QA";
    arUtter.onend = ()=>{
        if(enText){
            const enUtter = new SpeechSynthesisUtterance(enText);
            enUtter.lang = "en-US";
            speechSynthesis.speak(enUtter);
        }
    };
    speechSynthesis.speak(arUtter);
}
</script>
</body>
</html>

