<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>محوّل لغة الإشارة</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: url('https://upload.wikimedia.org/wikipedia/commons/6/65/Flag_of_Qatar.svg') no-repeat center center fixed;
    background-size: cover;
    margin:0; padding:0;
    direction:rtl; text-align:center;
    overflow-x:hidden;
}

/* النص المتحرك وملون أعلى الصفحة */
#marquee {
    font-size:40px;
    font-weight:bold;
    white-space: nowrap;
    overflow:hidden;
    display:block;
    color: transparent;
    background: linear-gradient(45deg, #ff0000,#00ff00,#0000ff,#ffff00,#ff00ff,#00ffff);
    -webkit-background-clip: text;
    background-size: 300%;
    animation: marqueeMove 15s linear infinite, rainbow 5s linear infinite;
    margin:15px 0;
}

@keyframes marqueeMove {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
}

@keyframes rainbow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

header { position: relative; padding: 50px 0 20px 0; }

#datetime { position:absolute; top:10px; left:10px; font-size:18px; background: rgba(0,0,0,0.5); padding:5px 10px; border-radius:5px; }

/* الصور الجانبية ثابتة */
.side-img { position:fixed; top:50%; transform:translateY(-50%); width:110px; }
.left-img { left:10px; }
.right-img { right:10px; }

.container { margin:20px auto; padding:30px; background-color: rgba(255,255,255,0.95); border-radius:20px; width:85%; max-width:750px; }
input[type="file"] { margin:20px 0; padding:10px; }
button { background-color:#1976d2; color:white; border:none; padding:15px 40px; border-radius:15px; font-size:20px; cursor:pointer;}

.output { margin-top:20px; padding:15px; background-color:#e3f2fd; border-radius:10px;}
.welcome-box { margin-top:20px; padding:15px; border-radius:10px; display:flex; flex-direction:column; align-items:center; animation:fadeIn 1s ease-in-out; color:white;}
.welcome-img { width:150px; margin-bottom:10px; }
.welcome-text { font-weight:bold; font-size:18px; }
.welcome-text-en { font-size:15px; color: #f0f0f0; }

@keyframes fadeIn { from{opacity:0;} to{opacity:1;} }

/* تذييل الصفحة النص المتحرك */
#footerText {
    font-size:28px;
    font-weight:bold;
    width:100%;
    white-space:nowrap;
    overflow:hidden;
    color: transparent;
    background: linear-gradient(45deg, #ff0000,#00ff00,#0000ff,#ffff00,#ff00ff,#00ffff);
    -webkit-background-clip: text;
    background-size: 300%;
    animation: footerMove 12s linear infinite, rainbow 5s linear infinite;
    margin:25px 0;
}

@keyframes footerMove {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
}
</style>
</head>
<body>

<!-- الصور الجانبية -->
<img src="https://i.postimg.cc/7Z9P5M2Q/sign-left.png" class="side-img left-img" alt="إعاقة سمعية">
<img src="https://i.postimg.cc/wx9v8sR1/sign-right.png" class="side-img right-img" alt="لغة إشارة">

<header>
<div id="datetime"></div>
<div id="marquee">محوّل فيديو لغة الإشارة إلى نص أو صوت</div>
</header>

<div class="container">
<video id="videoPlayer" controls style="display:none; width:45%; margin-left:20px;"></video>

<div>
<h2>اختر فيديو بلغة الإشارة</h2>
<input type="file" accept="video/*" id="videoInput" onchange="previewVideo()">
<br>
<button onclick="convertVideo()">ابدأ التحويل</button>

<div class="welcome-box" id="welcomeBox" style="display:none;">
<!-- الصورة الكبيرة هنا -->
<img id="welcomeImg" src="https://i.postimg.cc/hPmktm4Q/1.jpg" class="welcome-img" alt="صورة ترحيبية">
<div class="welcome-text" id="welcomeText"></div>
<div class="welcome-text-en" id="welcomeTextEn"></div>
</div>

<div class="output" id="output">
<h3>الناتج:</h3>
<p>سيظهر النص هنا بعد التحويل...</p>
</div>

</div>
</div>

<script>
function updateDateTime(){
    const now = new Date();
    document.getElementById('datetime').textContent = now.toLocaleString('ar-EG');
}
setInterval(updateDateTime,1000);
updateDateTime();

function previewVideo(){
    const videoInput = document.getElementById('videoInput');
    const videoPlayer = document.getElementById('videoPlayer');
    const welcomeBox = document.getElementById('welcomeBox');

    if(videoInput.files && videoInput.files[0]){
        const file = videoInput.files[0];
        const url = URL.createObjectURL(file);
        videoPlayer.src = url;
        videoPlayer.style.display='block';
        videoPlayer.play();
        alert("تم تحميل الفيديو بنجاح");

        welcomeBox.style.display='none';
        document.getElementById('output').innerHTML =
        '<h3>الناتج:</h3><p>سيظهر النص هنا بعد التحويل...</p>';
    }
}

function convertVideo(){
    const outputDiv = document.getElementById('output');
    const welcomeBox = document.getElementById('welcomeBox');
    const welcomeText = document.getElementById('welcomeText');
    const welcomeTextEn = document.getElementById('welcomeTextEn');
    const welcomeImg = document.getElementById('welcomeImg');
    const file = document.getElementById('videoInput').files[0];

    if(!file){ alert("من فضلك اختر فيديو أولاً"); return; }

    let text="", textEn="", welcomeMessage="", welcomeMessageEn="", bgColor="", imgSrc="";

    if(file.name.includes("1")){
        text="السلام عليكم أنا إسمي عبد السلام الوردات ... مع السلامة.";
        textEn="Hello, my name is Abdelsalam Alwardat ... Goodbye.";
        welcomeMessage="مرحباً بكم في الفيديو الأول: رسالة عبد السلام";
        welcomeMessageEn="Welcome to Video 1: Abdelsalam's Message";
        bgColor="#1976d2"; imgSrc="https://i.postimg.cc/7Z9P5M2Q/sign-left.png";
    }
    else if(file.name.includes("2")){
        text="السلام عليكم من فضلك أريد حجز تذكرة طيران ... شكراً لك.";
        textEn="Hello, please I would like to book a flight ... Thank you.";
        welcomeMessage="مرحباً بكم في الفيديو الثاني: حجز تذكرة طيران";
        welcomeMessageEn="Welcome to Video 2: Flight Booking Message";
        bgColor="#43a047"; imgSrc="https://i.postimg.cc/wx9v8sR1/sign-right.png";
    }
    else if(file.name.includes("3")){
        text="السلام عليكم ، من فضلك أنا اسمى حسام الدين ... شكرا لكي .";
        textEn="Hello, my name is Hossam Eldin ... Thank you.";
        welcomeMessage="مرحباً بكم في الفيديو الثالث: موعد طبي";
        welcomeMessageEn="Welcome to Video 3: Medical Appointment Message";
        bgColor="#f4511e"; imgSrc="https://i.postimg.cc/7Z9P5M2Q/sign-left.png";
    }
    else{
        text="لم يتم التعرف على الفيديو، من فضلك استخدم فيديو رقم 1 أو 2 أو 3";
        textEn="Unrecognized video. Please use Video 1, 2, or 3.";
        welcomeMessage="فيديو غير معروف";
        welcomeMessageEn="Unknown Video";
        bgColor="#9e9e9e"; imgSrc="https://i.postimg.cc/7Z9P5M2Q/sign-left.png";
    }

    welcomeBox.style.display="flex";
    welcomeBox.style.backgroundColor=bgColor;
    welcomeText.textContent=welcomeMessage;
    welcomeTextEn.textContent=welcomeMessageEn;
    welcomeImg.src=imgSrc;

    outputDiv.innerHTML = `
        <h3>الناتج:</h3>
        <p style="font-size:18px;font-weight:bold;">${text}</p>
        <p style="font-size:16px;color:gray;">${textEn}</p>
    `;

    speakText(text);
}

function speakText(text){
    const u = new SpeechSynthesisUtterance(text);
    u.lang="ar-SA";
    speechSynthesis.speak(u);
}
</script>

<!-- نص متحرك في أسفل الصفحة -->
<div id="footerText">مجمع التربية السمعية للبنات</div>

</body>
</html>
